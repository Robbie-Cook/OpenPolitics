{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\Robbie\\\\Repos\\\\OpenPolitics\\\\src\\\\components\\\\politics\\\\ParliamentGraphic.js\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: row;\\n    flex-wrap: wrap;\\n    position: relative;\\n    width: \", \";\\n    height: \", \";\\n  \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    width: \", \";\\n    height: \", \";\\n    background-color: \", \";\\n    border-radius: 100%;\\n    margin: 5px;\\n    flex-shrink: 0;\\n    position: absolute;\\n    bottom: \", \"px;\\n    left: \", \"px;\\n  \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component, PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport styled from \"styled-components\";\nimport { Transition } from \"@robbie-cook/react-components\";\nimport MemberPage from \"./MemberPage\";\nimport Colors from \"../Colors\";\n\nfunction Seat(props) {\n  var StyledSeat = styled.div(_templateObject(), props.size, props.size, props.color, props.position[0], props.position[1]);\n  return __jsx(StyledSeat, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  });\n}\n\nSeat.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.string,\n  id: PropTypes.number,\n  position: PropTypes.arrayOf(PropTypes.number)\n};\nSeat.defaultProps = {\n  color: Colors.text.color,\n  size: \"14px\",\n  id: 0,\n  position: [0, 0] // ParliamentGraphic component\n\n};\n\nvar ParliamentGraphic =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ParliamentGraphic, _Component);\n\n  function ParliamentGraphic(props) {\n    var _this;\n\n    _classCallCheck(this, ParliamentGraphic);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ParliamentGraphic).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"size\", \"300px\");\n\n    _defineProperty(_assertThisInitialized(_this), \"StyledSeatWrapper\", styled.div(_templateObject2(), _this.size, _this.size));\n\n    _this.state = {\n      seatingData: null,\n      membersData: null,\n      partyData: null // Updating functions bound to this\n\n    };\n\n    var updateSeatingData = function (data) {\n      this.setState({\n        seatingData: data\n      });\n    }.bind(_assertThisInitialized(_this));\n\n    var updateMembersData = function (data) {\n      this.setState({\n        membersData: data\n      });\n    }.bind(_assertThisInitialized(_this));\n\n    var updatePartyData = function (data) {\n      this.setState({\n        partyData: data\n      });\n    }.bind(_assertThisInitialized(_this)); // Queries for the data\n    // TODO: implement queries to API e.g. api.robbie.pw/politics/members\n\n\n    return _this;\n  }\n\n  _createClass(ParliamentGraphic, [{\n    key: \"generateSeats\",\n    value: function generateSeats(seatingData) {\n      if (!seatingData) {\n        return;\n      }\n\n      var jsxArray = [];\n      seatingData.docs.forEach(function (element) {\n        return jsxArray.push(__jsx(Seat, {\n          id: element.id,\n          position: element.position,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }));\n      });\n      return jsxArray;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Transition, {\n        loaded: this.state.seatingData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, __jsx(this.StyledSeatWrapper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.generateSeats(this.state.seatingData, this.positions)));\n    }\n  }]);\n\n  return ParliamentGraphic;\n}(Component);\n\nexport default ParliamentGraphic;","map":{"version":3,"sources":["C:\\Users\\Robbie\\Repos\\OpenPolitics\\src\\components\\politics\\ParliamentGraphic.js"],"names":["React","Component","PureComponent","PropTypes","styled","Transition","MemberPage","Colors","Seat","props","StyledSeat","div","size","color","position","propTypes","string","id","number","arrayOf","defaultProps","text","ParliamentGraphic","state","seatingData","membersData","partyData","updateSeatingData","data","setState","bind","updateMembersData","updatePartyData","jsxArray","docs","forEach","element","push","generateSeats","positions"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,aAA3B,QAAgD,OAAhD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,QAA2B,+BAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACnB,MAAMC,UAAU,GAAGN,MAAM,CAACO,GAAV,oBACLF,KAAK,CAACG,IADD,EAEJH,KAAK,CAACG,IAFF,EAGMH,KAAK,CAACI,KAHZ,EAQJJ,KAAK,CAACK,QAAN,CAAe,CAAf,CARI,EASNL,KAAK,CAACK,QAAN,CAAe,CAAf,CATM,CAAhB;AAWA,SAAO,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD;;AACDN,IAAI,CAACO,SAAL,GAAiB;AACfF,EAAAA,KAAK,EAAEV,SAAS,CAACa,MADF;AAEfJ,EAAAA,IAAI,EAAET,SAAS,CAACa,MAFD;AAGfC,EAAAA,EAAE,EAAEd,SAAS,CAACe,MAHC;AAIfJ,EAAAA,QAAQ,EAAEX,SAAS,CAACgB,OAAV,CAAkBhB,SAAS,CAACe,MAA5B;AAJK,CAAjB;AAMAV,IAAI,CAACY,YAAL,GAAoB;AAClBP,EAAAA,KAAK,EAAEN,MAAM,CAACc,IAAP,CAAYR,KADD;AAElBD,EAAAA,IAAI,EAAE,MAFY;AAGlBK,EAAAA,EAAE,EAAE,CAHc;AAIlBH,EAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,CAAJ,CAJQ,CAOpB;;AAPoB,CAApB;;IAQMQ,iB;;;;;AACJ,6BAAYb,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,2FAAMA,KAAN;;AADiB,2DAqCZ,OArCY;;AAAA,wEAsCCL,MAAM,CAACO,GAtCR,qBA2CR,MAAKC,IA3CG,EA4CP,MAAKA,IA5CE;;AAEjB,UAAKW,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,IADF;AAEXC,MAAAA,WAAW,EAAE,IAFF;AAGXC,MAAAA,SAAS,EAAE,IAHA,CAMb;;AANa,KAAb;;AAOA,QAAIC,iBAAiB,GAAG,UAASC,IAAT,EAAe;AACrC,WAAKC,QAAL,CAAc;AAAEL,QAAAA,WAAW,EAAEI;AAAf,OAAd;AACD,KAFuB,CAEtBE,IAFsB,+BAAxB;;AAIA,QAAIC,iBAAiB,GAAG,UAASH,IAAT,EAAe;AACrC,WAAKC,QAAL,CAAc;AAAEJ,QAAAA,WAAW,EAAEG;AAAf,OAAd;AACD,KAFuB,CAEtBE,IAFsB,+BAAxB;;AAIA,QAAIE,eAAe,GAAG,UAASJ,IAAT,EAAe;AACnC,WAAKC,QAAL,CAAc;AAAEH,QAAAA,SAAS,EAAEE;AAAb,OAAd;AACD,KAFqB,CAEpBE,IAFoB,+BAAtB,CAjBiB,CAqBjB;AACA;;;AAtBiB;AAuBlB;;;;kCAEaN,W,EAAa;AACzB,UAAI,CAACA,WAAL,EAAkB;AAChB;AACD;;AAED,UAAIS,QAAQ,GAAG,EAAf;AACAT,MAAAA,WAAW,CAACU,IAAZ,CAAiBC,OAAjB,CAAyB,UAAAC,OAAO;AAAA,eAC9BH,QAAQ,CAACI,IAAT,CAAc,MAAC,IAAD;AAAM,UAAA,EAAE,EAAED,OAAO,CAACnB,EAAlB;AAAsB,UAAA,QAAQ,EAAEmB,OAAO,CAACtB,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAd,CAD8B;AAAA,OAAhC;AAGA,aAAOmB,QAAP;AACD;;;6BAYQ;AACP,aACE,MAAC,UAAD;AAAY,QAAA,MAAM,EAAE,KAAKV,KAAL,CAAWC,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,WAAM,iBAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKc,aAAL,CAAmB,KAAKf,KAAL,CAAWC,WAA9B,EAA2C,KAAKe,SAAhD,CADH,CADF,CADF;AAOD;;;;EAxD6BtC,S;;AA2DhC,eAAeqB,iBAAf","sourcesContent":["import React, { Component, PureComponent } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\nimport styled from \"styled-components\"\r\nimport { Transition } from \"@robbie-cook/react-components\"\r\nimport MemberPage from \"./MemberPage\"\r\nimport Colors from \"../Colors\"\r\n\r\nfunction Seat(props) {\r\n  const StyledSeat = styled.div`\r\n    width: ${props.size};\r\n    height: ${props.size};\r\n    background-color: ${props.color};\r\n    border-radius: 100%;\r\n    margin: 5px;\r\n    flex-shrink: 0;\r\n    position: absolute;\r\n    bottom: ${props.position[0]}px;\r\n    left: ${props.position[1]}px;\r\n  `\r\n  return <StyledSeat />\r\n}\r\nSeat.propTypes = {\r\n  color: PropTypes.string,\r\n  size: PropTypes.string,\r\n  id: PropTypes.number,\r\n  position: PropTypes.arrayOf(PropTypes.number)\r\n}\r\nSeat.defaultProps = {\r\n  color: Colors.text.color,\r\n  size: \"14px\",\r\n  id: 0,\r\n  position: [0, 0]\r\n}\r\n\r\n// ParliamentGraphic component\r\nclass ParliamentGraphic extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      seatingData: null,\r\n      membersData: null,\r\n      partyData: null,\r\n    }\r\n    \r\n    // Updating functions bound to this\r\n    var updateSeatingData = function(data) {\r\n      this.setState({ seatingData: data })\r\n    }.bind(this)\r\n\r\n    var updateMembersData = function(data) {\r\n      this.setState({ membersData: data })\r\n    }.bind(this)\r\n\r\n    var updatePartyData = function(data) {\r\n      this.setState({ partyData: data })\r\n    }.bind(this)\r\n\r\n    // Queries for the data\r\n    // TODO: implement queries to API e.g. api.robbie.pw/politics/members\r\n  }\r\n\r\n  generateSeats(seatingData) {\r\n    if (!seatingData) {\r\n      return\r\n    }\r\n\r\n    let jsxArray = []\r\n    seatingData.docs.forEach(element =>\r\n      jsxArray.push(<Seat id={element.id} position={element.position} />)\r\n    )\r\n    return jsxArray\r\n  }\r\n\r\n  size = \"300px\"\r\n  StyledSeatWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n    position: relative;\r\n    width: ${this.size};\r\n    height: ${this.size};\r\n  `\r\n\r\n  render() {\r\n    return (\r\n      <Transition loaded={this.state.seatingData}>\r\n        <this.StyledSeatWrapper>\r\n          {this.generateSeats(this.state.seatingData, this.positions)}\r\n        </this.StyledSeatWrapper>\r\n      </Transition>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ParliamentGraphic\r\n"]},"metadata":{},"sourceType":"module"}