{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component, PureComponent } from \"react\";\nimport styled from \"styled-components\";\nimport { Transition } from \"@robbie-cook/react-components\";\nimport MemberPage from \"./MemberPage\";\nimport Colors from \"../Colors\";\n\nfunction Seat(props) {\n  const StyledSeat = styled.div`\n    width: ${props.size};\n    height: ${props.size};\n    background-color: ${props.color};\n    border-radius: 100%;\n    margin: 5px;\n    flex-shrink: 0;\n    position: absolute;\n    bottom: ${props.position[0]}px;\n    left: ${props.position[1]}px;\n  `;\n  return __jsx(StyledSeat, null);\n}\n\nSeat.defaultProps = {\n  color: Colors.text.color,\n  size: \"14px\",\n  id: 0,\n  position: [0, 0] // ParliamentGraphic component\n\n};\n\nclass ParliamentGraphic extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"size\", \"300px\");\n\n    _defineProperty(this, \"StyledSeatWrapper\", styled.div`\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    position: relative;\n    width: ${this.size};\n    height: ${this.size};\n  `);\n\n    this.state = {\n      seatingData: null,\n      membersData: null,\n      partyData: null // Updating functions bound to this\n\n    };\n\n    var updateSeatingData = function (data) {\n      this.setState({\n        seatingData: data\n      });\n    }.bind(this);\n\n    var updateMembersData = function (data) {\n      this.setState({\n        membersData: data\n      });\n    }.bind(this);\n\n    var updatePartyData = function (data) {\n      this.setState({\n        partyData: data\n      });\n    }.bind(this); // Queries for the data\n    // TODO: implement queries to API e.g. api.robbie.pw/politics/members\n\n  }\n\n  generateSeats(seatingData) {\n    if (!seatingData) {\n      return;\n    }\n\n    let jsxArray = [];\n    seatingData.docs.forEach(element => jsxArray.push(__jsx(Seat, {\n      id: element.id,\n      position: element.position\n    })));\n    return jsxArray;\n  }\n\n  render() {\n    return __jsx(Transition, {\n      loaded: this.state.seatingData\n    }, __jsx(this.StyledSeatWrapper, null, this.generateSeats(this.state.seatingData, this.positions)));\n  }\n\n}\n\nexport default ParliamentGraphic;","map":null,"metadata":{},"sourceType":"module"}